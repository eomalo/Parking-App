<!DOCTYPE html>
<html lang="hr">
  <head>
    <meta charset="UTF-8" />
    <title>Parking Aplikacija</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <h1 class="mb-4 text-center">ðŸš— Parking Aplikacija</h1>

      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, msg in messages %}
      <div
        class="alert alert-{{ category }} alert-dismissible fade show"
        role="alert"
      >
        {{ msg }}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
        ></button>
      </div>
      {% endfor %} {% endif %} {% endwith %}

      <div class="row">
        <div class="col-md-6">
          <div class="card mb-3">
            <div class="card-header bg-primary text-white">Dodaj vozilo</div>
            <div class="card-body">
              <form method="POST" action="{{ url_for('add') }}">
                <input
                  class="form-control mb-2"
                  name="plate"
                  placeholder="Tablice (npr. BG123AB)"
                  required
                />
                <input
                  class="form-control mb-2"
                  name="make"
                  placeholder="Marka"
                />
                <input
                  class="form-control mb-2"
                  name="model"
                  placeholder="Model"
                />
                <input
                  class="form-control mb-2"
                  name="color"
                  placeholder="Boja"
                />
                <input
                  class="form-control mb-2"
                  name="owner"
                  placeholder="Vlasnik"
                />
                <textarea
                  class="form-control mb-2"
                  name="notes"
                  placeholder="BiljeÅ¡ke"
                ></textarea>
                <button class="btn btn-success w-100">Dodaj</button>
              </form>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card mb-3">
            <div class="card-header bg-warning text-dark">Provjeri tablice</div>
            <div class="card-body">
              <form method="POST" action="{{ url_for('check') }}">
                <input
                  class="form-control mb-2"
                  name="plate_check"
                  placeholder="Unesi tablice"
                  required
                />
                <button class="btn btn-warning w-100">Provjeri</button>
              </form>
            </div>
          </div>
        </div>
      </div>

  <h3 class="mt-4">ðŸš˜ Trenutno u bazi</h3>
{% if cars %}
<div class="table-responsive" style="max-height: 400px; overflow-y: auto; border-radius: 10px;">
    <table class="table table-striped table-hover mt-2 mb-0">
        <thead class="table-light sticky-top">
            <tr>
                <th>Tablice</th>
                <th>Marka</th>
                <th>Model</th>
                <th>Boja</th>
                <th>Vlasnik</th>
                <th>BiljeÅ¡ke</th>
                <th>Akcija</th>
            </tr>
        </thead>
        <tbody>
        {% for car in cars %}
            <tr>
                <td>{{ car[1] }}</td>
                <td>{{ car[2] or '' }}</td>
                <td>{{ car[3] or '' }}</td>
                <td>{{ car[4] or '' }}</td>
                <td>{{ car[5] or '' }}</td>
                <td>{{ car[6] or '' }}</td>
                <td><a href="{{ url_for('delete', plate=car[1]) }}" class="btn btn-danger btn-sm">ObriÅ¡i</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
    <p>Nema vozila u bazi.</p>
{% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
